<!DOCTYPE html>
<html lang="en">
<head>
  <title>PHYS_S-12: Introduction to Digital Fabrication</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="../style.css"/>
  <style>
    /* Remove the navbar's default margin-bottom and rounded borders */ 
    .navbar {
      margin-bottom: 0;
      border-radius: 0;
      background-color: #000000;
    }
  </style>
</head>
<body>

<nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="../index.html">HOME</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="../About Me/index.html">ABOUT ME</a></li>
        <li><a href="../FinalProject/index.html">FINAL PROJECT</a></li>
        <li><a href="https://nathanmelenbrink.github.io/intro-dig-fab/index.html">COURSE WEBSITE</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container-fluid2 bg-7 text-center">
  <h4 style="color: black;"><b>WEEK 07: ELECTRONIC INPUT DEVICES</b></h4>
</div>

<div class="container-fluid2 bg-7 text-center">
  <p style="color: black;"><b>Assignment: Use a sensor from your kit to measure a physical quantity with your microcontroller, calibrate it, find it's range, and repeat it with a fabricated sensor made by yourself.</b></p>
</div>

<div class="container-fluid2 bg-8">
  <!--<h3>Week 1: Introduction </h3> <br>--> 
  <div class="row">
    <div class="col-md-1">
    </div>
    <div class="col-md-10">
      <p>For this first part of the assignment, I decided to use a phototransistor and two LED's. I first learned that the phototransistor basically operates depending on how much light it gets. The basic idea for it was to shine a lamp into the phototransistor and the LED's would get brighter or dimmer depending on how much light it got. First, I modeled the whole circuit in Tinkercad and found that the name of the phototransistor in Tinkercad is Ambient Light Sensor. I also simulated both LED's of different colors, one would be green and other one would be blue. So after I had everything modelled, I decided to create it in real life, but there was one problem, I didn't know which leg was supposed to connect to ground and which to power. To solve this, I decided to go to a lab session where Victoria helped me figure out the correct position of the phototransistor. I also decided to separate the phototransistor from the LED's so that the light that they gave off wouldn't affect the phototransistor measurement. After figuring this out, I had completed the circuit and it was time to program it using Arduino IDE. </p>
    </div>
    <div class="col-md-1">
    </div>
  </div>

  <br><div class="row">
    <div class="col-md-1">
    </div>
    <div class="col-md-5">
      <img src="PhototransistorTinkercad.png" class="img-responsive img-rounded" alt="Picture of the phototransistor circuit in Tinkercad with two LED's.">
    </div>
    <div class="col-md-5">
      <img src="Phototransistor1.jpg" class="img-responsive img-rounded" alt="Picture of the phototransistor circuit made in real life with both LED's.">
    </div>
    <div class="col-md-1">
    </div>
  </div><br>

  <div class="row">
    <div class="col-md-1">
    </div>
    <div class="col-md-10">
      <p>In order to get an accurate measure of the phototransistor, I connected it to analog pin A1 since it would read a value from 0 - 1023. In Arduino IDE, the code that I created was very simple. It would basically read pin A1 which corresponded to the phototransistor, print that value, and then change the LED's value. For each LED, I hooked one to pin A3 and the other one to A4 so that you could notice if the LED got brighter or dimmer. I also decided to play around with the LED's and settled with making one of them the value of the phototransistor and the other one 1023 - phototransistor since 1023 would correspond to 3.3 volts. This would make the LED's brightness go in opposite ways. Now that the code was completed, I just had to try it so I uploaded the code to my Metro M0 board and tested it.  </p>
    </div>
    <div class="col-md-1">
    </div>
  </div>

  <br><div class="row">
    <div class="col-md-1">
    </div>
    <div class="col-md-5">
      <img src="PhototransistorPins.jpg" class="img-responsive img-rounded" alt="Picture of the phototransistor circuit in real life where it shows each connection to the Metro.">
    </div>
    <div class="col-md-5">
      <iframe src=https://create.arduino.cc/editor/sergiopad/5efacdfa-ef41-46be-b55b-9526cd8f45eb/preview?embed style="height:510px;width:100%;margin:10px 0" frameborder=0></iframe>
    </div>
    <div class="col-md-1">
    </div>
  </div><br>

  <div class="row">
    <div class="col-md-1">
    </div>
    <div class="col-md-10">
      <p>After several minutes of testing, I realized that at very long distances, the photoresistor doesn't quite sense a change in the light that it's receiving but the closer you get, the higher the number that is printed to the Serial Monitor. I then decided to grab some data. Using a measuring tape and my flashlight, I measure the distance from the phototransistor to the flashlight as well as the number that was printed to the Serial Monitor. During this process, I would also be guided by the brightness of the LED's in order to see if my results looked realistic. I did 10 different distances but at about 10 centimeters, the number started to increase at a very fast rate so I took more measurements before and after. The distances from which I took measurements were 0.45 m, 0.4 m, 0.35 m, 0.31 m, 0.22 m, 0.15 m, 0.13 m, 0.10 m, 0.07 m, and 0.05 m. After getting all those values, I created a graph and surprisingly, it looked like a cubic function. As the distance decreased, the intensity started to increase at a non-linear rate. Since it was very complicated to get accurate intensities at long distances, there is only a slight curve at bigger distances in the graph. Then, I proceeded to find the lowest and highest values that were printed on the monitor. I found that the lowest intensity values ranged from 29 to 31 and the highest ones from 1004 - 1007. This sounded correct since it would only get to 0 if it was in total darkness which in this case it wasn't and it wouldn't reach 1023 since there was a resistor before it which made the current be shared between both of them.</p>
    </div>
    <div class="col-md-1">
    </div>
  </div>

  <br><div class="row">
    <div class="col-md-1">
    </div>
    <div class="col-md-5">
      <iframe width="560" height = "315" src="https://www.youtube.com/embed/kJgNQeBN9KU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    <div class="col-md-5">
      <iframe width="560" height = "315" src="https://www.youtube.com/embed/J6u2PxKcF9g" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    <div class="col-md-1">
    </div>
  </div><br>

  <br><div class="row">
    <div class="col-md-1">
    </div>
    <div class="col-md-5">
      <img src="PhototransistorTable.jpg" class="img-responsive img-rounded" alt="Picture of the table with distance and light intensity values for the phototransistor circuit.">
    </div>
    <div class="col-md-5">
      <img src="PhototransistorGraph.jpg" class="img-responsive img-rounded" alt="Picture of the graph of distance vs light intensity for the phototransistor circuit.">
    </div>
    <div class="col-md-1">
    </div>
  </div><br>

  <br><div class="row">
    <div class="col-md-4">
    </div>
    <div class="col-md-4">
      <img src="PhototransistorCircuit.jpg" class="img-responsive img-rounded" alt="Picture of the finished phototransistor circuit.">
    </div>
    <div class="col-md-4">
    </div>
  </div><br>

  <div class="row">
    <div class="col-md-1">
    </div>
    <div class="col-md-10">
      <p>For the second part of this assignment, I decided to create a water level sensor. It basically would tell you how much water is in your cup. For this, I used four pieces of copper which had to be smaller than the ones in the kit because they would overlap which shouldn't happen. One of them was always connected to the ground and the other three acted as capacitive sensors so the cup would be split into three parts. In the Serial Monitor, depending on how much water there was, it would tell you if it was empty, half-empty, or full. The three copper pieces were taped to the outside of the cup and the fourth one you would have to move with your hand. Throughout the process, I learned to create capacitive sensors, program them in Arduino, finding the threshold for each piece, and wiring each sensor correctly. I ran into some problems, but with the help of Victoria after attending a lab session, I was able to get the cup working correctly. In the end, the cup works and I am really happy with the end result.</p>
    </div>
    <div class="col-md-1">
    </div>
  </div>

  <br><div class="row">
    <div class="col-md-1">
    </div>
    <div class="col-md-5">
      <img src="WaterLevelReal1.jpg" class="img-responsive img-rounded" alt="Picture of the water level circuit made in real life.">
    </div>
    <div class="col-md-5">
      <img src="WaterLevelReal2.jpg" class="img-responsive img-rounded" alt="Picture of the water level circuit made in real life.">
    </div>
    <div class="col-md-1">
    </div>
  </div><br>

  <div class="row">
    <div class="col-md-1">
    </div>
    <div class="col-md-5">
      <br><p>First, I had to create the circuit for the cup to work. I started off by cutting four different copper pieces and for that I used the extra copper that came in the kit. After that was done, I used hooked up some wires to them so that they would be able to tell me when the other copper piece on the other side had been detected. For this, I used more tape until I had finally taped the three copper pieces to the side of the cup. Next, I used one pin-socket wire to connect the fourth copper piece to the Metro M0 Express. After that, I only had to connect the three taped copper pieces. For that, I used <a href="https://roberthart56.github.io/SCFAB/SC_lab/Sensors/CapacitiveTouch/index.html">Robert's</a> example of how to wire one copper piece, but I made some slight adjustments. First, I changed the pins that he used, and then I copied that same design two more times for the two other copper pieces. For the fourth copper piece, I just hooked it up to ground. Now that the circuit was created, I just had to make the Arduino code for it and test it! </p>
    </div>
    <div class="col-md-5">
      <img src="CupCircuit.jpg" class="img-responsive img-rounded" alt="Picture of the cup circuit made in real life.">
    </div>
    <div class="col-md-1">
    </div>
  </div>

  <br><div class="row">
    <div class="col-md-1">
    </div>
    <div class="col-md-5">
      <iframe src=https://create.arduino.cc/editor/sergiopad/f4c08053-4ad4-455d-b8a1-d7466f26b174/preview?embed style="height:510px;width:100%;margin:10px 0" frameborder=0></iframe>
    </div>
    <div class="col-md-5">
      <p>The first step to make the code was to create a new Arduino IDE file. After that was done, I looked at <a href="https://roberthart56.github.io/SCFAB/SC_lab/Sensors/CapacitiveTouch/CapacitiveTouch.txt">Robert's</a> example code for just one copper piece and used it as my base. The first thing that I made was create two more capacitive sensor variables, each with their respective digital pins. Then, I also added two more sensor values for the two extra copper pieces that I had taped to the cup. Since the fourth copper piece was attached to ground, I didn't have to specify any pins for that one. After that, I added some debugging methods. What would basically happen would be that as the code ran, it would tell you the number that the sensor was reading for each water level so I had to print 3 different numbers to the Serial Monitor. Then, in order for the user to know how much water was in the cup, I created 3 different <code class="language-arduino">if()</code> statements where it would check if the number for each water level was a certain number so that it then would print you the amount of water in your cup. This was very hard since after doing many tries, the Serial Monitor would print very different numbers, but in the end, I could find the range of each water level. Something very weird was that for the copper piece that was at the top of the cup, the highest it would go woul be about 500 while the others would go to about 9500. Now that the code was done, I only had to test it so I hooked up the Metro to my computer and uploaded the code.</p>
    </div>
    <div class="col-md-1">
    </div>
  </div>

  <div class="row">
    <div class="col-md-1">
    </div>
    <div class="col-md-10">
      <p>After many trials, I finally could figure out the appropriate threshold for each of the water levels, and after that, the cup was working! However, in some trials, the wires connecting the three copper pieces would disconnect so I would need to add more tape to each of the sensors. I also had to make the fourth copper piece smaller because it would sometimes be touching two of the copper pieces on the other side so in the Serial Monitor, no level description would be printed. However, after overcoming these details, everything was fine. Depending on how much water I poured in, it would tell me if it was empty, half-full or completely full. Below are two videos, one of the Serial Monitor printing the values for each water level and the capacity of the cup and the other one of myself pouring water into the cup and moving the copper piece attached to the ground pin. In the end, I was pretty happy with the measuring cup that I made. Now, I had a way to now the water level of the cup without having to look inside of it!</p>
    </div>
    <div class="col-md-1">
    </div>
  </div>

  <div class="row">
    <div class="col-md-1">
    </div>
    <div class="col-md-5">
      <iframe width="560" height = "315" src="https://www.youtube.com/embed/5mkED6JeqPQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    <div class="col-md-5">
      <iframe width="560" height = "315" src="https://www.youtube.com/embed/4GJbz085FJk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    <div class="col-md-1">
    </div>
  </div><br>

  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-6">
      <img src="FinishedWaterCup.jpg" class="img-responsive img-rounded" alt="Picture of the water measuring cup finished in real life.">
    </div>
    <div class="col-md-3">
    </div>
  </div><br>



    
      <!--<div class="col-md-4">
        <p> Here is an image: </p>

        <img src="./sew.png" class="img-responsive margin" style="width:100%" alt="Sew">

        <p> And here is a <a href='../index.html'>link</a>. </p>
      </div >
     
      <div class="col-md-4">
        <p> Here is a video embedded with the iframe tag: </p> 
   
        <iframe style="width:100%; height:300px" src="https://www.youtube.com/embed/z-6idke_hVY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </div>

      <div class="col-md-4">
        <p> Here is a column with an mp4 video. </p> 
   
        <video controls>
          <source width="320" height="240" src="demo.mp4" type="video/mp4">
        </video>
      </div>-->
  </div>
</div>

<footer class="container-fluid2 bg-5 text-center">
  <h4>Used Bootstrap Theme from <a href="https://www.w3schools.com/">www.w3schools.com</a></h4>
</footer>

</body>
</html>